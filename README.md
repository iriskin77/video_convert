+ [1. Описание задания](#1-описание-задания)
+ [2. Описание http методов](#2-описание-http-методов)
+ [3. Как запустить ](#3-как-запустить)

## 1) Описание задания

Подробное описание см. здесь: https://github.com/sdobrimutrom/python_test

Основные выполненные задачи:

- [x] POST /file/
- [x] PATCH /file/{id}/
- [x] GET /file/{id}/
- [x] DELETE /file/{id}/
- [x] Обработка ошибок

Дополнительные выполненные задачи:

- [x] есть автодокументация API
- [x] есть система логирования
- [x] сервис завёрнут в docker контейнер
- [ ] наличие юнит тестов

## 2) Описание http методов

Выполненные условия:

**Основные задачи:**

- [x] POST /file/


Тело запроса: видеофайл в формате MP4.

В теле ответа возвращается
```
{
  id: UUID — идентификатор , например: `876b8335-3279-4f59-9718-570f37f076ea`.
}
```

Код ответа: 200 Ok.
- [x] PATCH /file/{id}/
Начать изменение разрешения видео используя ffmpeg. Ответ должен возвращаться независимо от завершения процесса обработки (обработка не должна блокировать запрос)

Тело запроса:
```
{
  width: int,  - Чётное число больше 20
  height: int,  - Чётное число больше 20
}
```

В теле ответа возвращается
```
{
  success: Boolean
}
```

Код ответа: 200 Ok.
- [x] GET /file/{id}/
Получить информацию о файле и статусе его обработки

Тело ответа:
```
{
  id: uid,
  filename: string,
  processing: Boolean - идёт ли процесс обработки
  processingSuccess: null | true | false  - отображает успешность последней операции над видео. Дефолтное значение null.
}
```
Код ответа: 200 Ok.
- [x] DELETE /file/{id}/
Удалить файл

В теле ответа возвращается
```
{
  success: Boolean
}
```
Код ответа: 200 Ok.

- [x] Обработка ошибок

При возникновении ошибок необходимо возвращать ошибку в json формате
```
{
  error: string
}
```

**Дополнительно:**

- [x] есть автодокументация API
### - **!!WARNING!!**
#### - Хотя автодокументая (swagger) подключен, смысла его использовать нет, поскольку, 
#### по всей видимости, swagger не поддерживает ApiView. Поэтому все проверки 
#### **рекомендуется делать через Postman**
- [x] есть система логирования
- [x] сервис завёрнут в docker контейнер
- [ ] наличие юнит тестов


## 3) Как запустить

#### 1) Запуск из docker контейнера

+ Клонировать репозиторий: git clone
+ Перейти в папку с проектом: cd test_video
+ Создать и запустить docker контейнер командами:
  + docker-compose build
  + docker-compose up
  - **!!warning!!** FFMPEG может загружаться в docker контейнер достаточно долго 
+ После этого приложение будет доступно на порте http://127.0.0.1:8044/

#### 2) Запуск в качестве python-script

+ Клонировать репозиторий: git clone
+ Создать виртуальное окружение: python3 -m venv venv
+ Активировать виртуальное окружение: source venv/bin/actibate
+ Установить зависимости: pip install -r requirements.txt
+ Запустить приложение: uvicorn main:app --reload
+ После этого приложение будет доступно на порте http://127.0.0.1:8090/


